{"version":3,"sources":["webpack:///./src/components/Add.vue","webpack:///./src/components/Add.vue?a433","webpack:///./src/components/Add.vue?b220"],"names":["components_Add","VHeader","name","components","data","book","methods","add","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","reg","wrap","_context","prev","next","bookName","length","$vux","toast","show","abrupt","bookInfo","bookPrice","test","addBook","$router","push","stop","selectortype_template_index_0_src_components_Add","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","back","_v","for","directives","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","$set","modifiers","number","_n","blur","$forceUpdate","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.4f06620457b4893241e4.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport VHeader from '@/base/VHeader.vue'\r\nimport { addBook } from '@/api'\r\nexport default {\r\n  name: 'add',\r\n  components: {\r\n    VHeader\r\n  },\r\n  data () {\r\n    return {\r\n      book: {}\r\n    }\r\n  },\r\n  methods: {\r\n    async add () {\r\n      // 校验书籍名称\r\n      if (this.book.bookName && this.book.bookName.length > 15) {\r\n        this.$vux.toast.show('输入名称不能超过15个字符')\r\n        this.book.bookName = ''\r\n        return\r\n      }\r\n      // 校验书籍信息\r\n      if (this.book.bookInfo && this.book.bookInfo.length > 30) {\r\n        this.$vux.toast.show('输入信息不能超过30个字符')\r\n        this.book.bookInfo = ''\r\n        return\r\n      }\r\n      // 校验书籍价格\r\n      let reg = /^\\d+$/ // 非负数\r\n      if (this.book.bookPrice && !reg.test(this.book.bookPrice)) {\r\n        this.$vux.toast.show('输入价格不能为负或英文或汉字')\r\n        this.book.bookPrice = ''\r\n        return\r\n      }\r\n      // 校验书籍封面: URL\r\n      // let url = /^((ht|f)tps?):\\/\\/[\\w\\\\-]+(\\.[\\w\\\\-]+)+([\\w\\\\-\\\\.,@?^=%&:\\\\/~\\\\+#]*[\\w\\-\\\\@?^=%&\\\\/~\\\\+#])?$/\r\n      // if (this.book.bookCover && !url.test(this.book.bookCover)) {\r\n      //   this.$vux.toast.show('输入url路径必须以http,https,sftp,ftp开头')\r\n      //   this.book.bookCover = ''\r\n      //   return\r\n      // }\r\n      await addBook(this.book)\r\n      this.$router.push({\r\n        name: 'list'\r\n      })\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Add.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add\"},[_c('v-header',{attrs:{\"back\":true}},[_vm._v(\"添加\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('ul',[_c('li',[_c('label',{attrs:{\"for\":\"book-name\"}},[_vm._v(\"书籍名称:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.book.bookName),expression:\"book.bookName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入书籍名称\"},domProps:{\"value\":(_vm.book.bookName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.book, \"bookName\", $event.target.value)}}})]),_vm._v(\" \"),_c('li',[_c('label',{attrs:{\"for\":\"book-info\"}},[_vm._v(\"书籍信息:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.book.bookInfo),expression:\"book.bookInfo\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入书籍信息\"},domProps:{\"value\":(_vm.book.bookInfo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.book, \"bookInfo\", $event.target.value)}}})]),_vm._v(\" \"),_c('li',[_c('label',{attrs:{\"for\":\"book-price\"}},[_vm._v(\"书籍价格:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.book.bookPrice),expression:\"book.bookPrice\",modifiers:{\"number\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入书籍价格\"},domProps:{\"value\":(_vm.book.bookPrice)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.book, \"bookPrice\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('li',[_c('label',{attrs:{\"for\":\"book-cover\"}},[_vm._v(\"书籍封面:\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.book.bookCover),expression:\"book.bookCover\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入书籍封面\"},domProps:{\"value\":(_vm.book.bookCover)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.book, \"bookCover\", $event.target.value)}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_c('button',{on:{\"click\":_vm.add}},[_vm._v(\"添加\")])])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-be15a4c2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Add.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-be15a4c2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Add.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Add.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-be15a4c2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Add.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-be15a4c2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Add.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}